@model WMIP.Web.Areas.Admin.Models.Approval.ApprovalItemViewModel[]

<link rel="stylesheet" href="~/css/mvc-grid.css" asp-append-version="true" />

@{
    ViewData["Title"] = "Approval Management";
}

<h1 class="text-center">Approval Management</h1>
<hr class="hr-1 bg-info w50" />
@(Html
        .Grid(Model)
        .Build(columns =>
        {
            columns.Add(item => item.Name).Titled("Item Name");
            columns.Add(item => item.ItemType).Titled("Item Type");
            columns.Add(item => item.Requester).Titled("Requester");
            columns.Add(item => item.ReleaseDate).Titled("Replease Date");
            columns.Add(item => item.ReleaseStage).Titled("Release Stage");
            columns.Add(item => $"<div class='buttonContainer'>" +
            $"<a data-type='{item.ItemType}' data-action='Approved' data-id='{item.Id}' class='btn btn-primary actionButton'>Approve</a>" +
            $"<a data-type='{item.ItemType}' data-action='Rejected' data-id='{item.Id}' class='btn btn-danger actionButton'>Reject</a>" +
            $"</div>").Encoded(false).AppendCss("buttonContainer").Titled("Action");
        })
        .Empty("Nothing to approve")
        .Filterable()
        .Sortable()
        .Pageable(pager =>
        {
            pager.RowsPerPage = 10;
        })
)

@section Scripts {
    <script src="~/js/mvc-grid.js"></script>
    <script src="~/js/initialize-mvc-grid.js"></script>
    <script src="~/js/approval-script.js"></script>
}